{"version":4,"terraform_version":"1.8.1","serial":20,"lineage":"0a5f2eb3-0b93-089d-6968-75373759d020","outputs":{"ec2_public_ip":{"value":"34.243.254.194","type":"string"},"rds_endpoint":{"value":"wealthtrack-db.cjqwswuu4hqv.eu-west-1.rds.amazonaws.com:5432","type":"string"}},"resources":[{"mode":"managed","type":"aws_db_instance","name":"main","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":2,"attributes":{"address":"wealthtrack-db.cjqwswuu4hqv.eu-west-1.rds.amazonaws.com","allocated_storage":20,"allow_major_version_upgrade":null,"apply_immediately":false,"arn":"arn:aws:rds:eu-west-1:343218224348:db:wealthtrack-db","auto_minor_version_upgrade":true,"availability_zone":"eu-west-1a","backup_retention_period":0,"backup_target":"region","backup_window":"05:11-05:41","blue_green_update":[],"ca_cert_identifier":"rds-ca-rsa2048-g1","character_set_name":"","copy_tags_to_snapshot":false,"custom_iam_instance_profile":"","customer_owned_ip_enabled":false,"db_name":"wealthtrackdb","db_subnet_group_name":"wealthtrack-db-subnet-group","dedicated_log_volume":false,"delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_auth_secret_arn":"","domain_dns_ips":[],"domain_fqdn":"","domain_iam_role_name":"","domain_ou":"","enabled_cloudwatch_logs_exports":[],"endpoint":"wealthtrack-db.cjqwswuu4hqv.eu-west-1.rds.amazonaws.com:5432","engine":"postgres","engine_lifecycle_support":"open-source-rds-extended-support","engine_version":"16.4","engine_version_actual":"16.4","final_snapshot_identifier":null,"hosted_zone_id":"Z29XKXDKYMONMX","iam_database_authentication_enabled":false,"id":"db-LVTBOURYMT7TYMNYVNMXKMVCT4","identifier":"wealthtrack-db","identifier_prefix":"","instance_class":"db.t4g.micro","iops":0,"kms_key_id":"","latest_restorable_time":"","license_model":"postgresql-license","listener_endpoint":[],"maintenance_window":"sat:02:54-sat:03:24","manage_master_user_password":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"max_allocated_storage":0,"monitoring_interval":0,"monitoring_role_arn":"","multi_az":false,"nchar_character_set_name":"","network_type":"IPV4","option_group_name":"default:postgres-16","parameter_group_name":"default.postgres16","password":"KM56098#mal","performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":5432,"publicly_accessible":false,"replica_mode":"","replicas":[],"replicate_source_db":"","resource_id":"db-LVTBOURYMT7TYMNYVNMXKMVCT4","restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"snapshot_identifier":null,"status":"available","storage_encrypted":false,"storage_throughput":0,"storage_type":"gp2","tags":{"Name":"wealthtrack-rds"},"tags_all":{"Name":"wealthtrack-rds"},"timeouts":null,"timezone":"","upgrade_storage_config":null,"username":"backend","vpc_security_group_ids":["sg-08a15faa46352e96a"]},"sensitive_attributes":[[{"type":"get_attr","value":"password"}]],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NDgwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9","dependencies":["aws_db_subnet_group.main","aws_security_group.ec2","aws_security_group.rds","aws_subnet.private","aws_subnet.public","aws_vpc.main"]}]},{"mode":"managed","type":"aws_db_subnet_group","name":"main","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:rds:eu-west-1:343218224348:subgrp:wealthtrack-db-subnet-group","description":"Managed by Terraform","id":"wealthtrack-db-subnet-group","name":"wealthtrack-db-subnet-group","name_prefix":"","subnet_ids":["subnet-0e2930fee401cb71d","subnet-0f5f6effdeb763a55"],"supported_network_types":["IPV4"],"tags":{"Name":"wealthtrack-db-subnet-group"},"tags_all":{"Name":"wealthtrack-db-subnet-group"},"vpc_id":"vpc-0d6fbdafbaeefae9a"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_subnet.private","aws_subnet.public","aws_vpc.main"]}]},{"mode":"managed","type":"aws_iam_instance_profile","name":"ec2_profile","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::343218224348:instance-profile/wealthtrack-ec2-profile","create_date":"2024-10-12T12:48:43Z","id":"wealthtrack-ec2-profile","name":"wealthtrack-ec2-profile","name_prefix":"","path":"/","role":"wealthtrack-ec2-rds-access-role","tags":{},"tags_all":{},"unique_id":"AIPAU72LGPTOBV4USHT2O"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.ec2_rds_access"]}]},{"mode":"managed","type":"aws_iam_role","name":"ec2_rds_access","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::343218224348:role/wealthtrack-ec2-rds-access-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-12T12:48:43Z","description":"","force_detach_policies":false,"id":"wealthtrack-ec2-rds-access-role","inline_policy":[{"name":"wealthtrack-rds-access-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"rds-db:connect\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:rds:eu-west-1:343218224348:db:wealthtrack-db\"}]}"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"wealthtrack-ec2-rds-access-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROAU72LGPTOOAP4RKGCA"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role_policy","name":"rds_access","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"wealthtrack-ec2-rds-access-role:wealthtrack-rds-access-policy","name":"wealthtrack-rds-access-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"rds-db:connect\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:rds:eu-west-1:343218224348:db:wealthtrack-db\"}]}","role":"wealthtrack-ec2-rds-access-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_db_instance.main","aws_db_subnet_group.main","aws_iam_role.ec2_rds_access","aws_security_group.ec2","aws_security_group.rds","aws_subnet.private","aws_subnet.public","aws_vpc.main"]}]},{"mode":"managed","type":"aws_instance","name":"app","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"ami":"ami-0694d931cee176e7d","arn":"arn:aws:ec2:eu-west-1:343218224348:instance/i-061477150d47d7be8","associate_public_ip_address":true,"availability_zone":"eu-west-1b","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":1}],"cpu_threads_per_core":1,"credit_specification":[{"cpu_credits":"standard"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"wealthtrack-ec2-s3-profile","id":"i-061477150d47d7be8","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t2.micro","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"wealthtrack","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0337730755b606857","private_dns":"ip-10-0-1-200.eu-west-1.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.200","public_dns":"","public_ip":"34.243.254.194","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0776fe5c577b093d5","volume_size":8,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0e2930fee401cb71d","tags":{"Name":"wealthtrack-ec2"},"tags_all":{"Name":"wealthtrack-ec2"},"tenancy":"default","timeouts":null,"user_data":"319fcbd78776f1ef30dba1f4125e92b1f53965fa","user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-0f9dbc30a30c809d8"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_security_group.ec2","aws_subnet.public","aws_vpc.main"]}]},{"mode":"managed","type":"aws_internet_gateway","name":"main","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:eu-west-1:343218224348:internet-gateway/igw-02a79dc02f93d7dc9","id":"igw-02a79dc02f93d7dc9","owner_id":"343218224348","tags":{"Name":"wealthtrack-igw"},"tags_all":{"Name":"wealthtrack-igw"},"timeouts":null,"vpc_id":"vpc-0d6fbdafbaeefae9a"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["aws_vpc.main"]}]},{"mode":"managed","type":"aws_route_table","name":"public","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:eu-west-1:343218224348:route-table/rtb-005bb1bfbfabac6ff","id":"rtb-005bb1bfbfabac6ff","owner_id":"343218224348","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-02a79dc02f93d7dc9","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"wealthtrack-public-rt"},"tags_all":{"Name":"wealthtrack-public-rt"},"timeouts":null,"vpc_id":"vpc-0d6fbdafbaeefae9a"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_internet_gateway.main","aws_vpc.main"]}]},{"mode":"managed","type":"aws_route_table_association","name":"public","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"gateway_id":"","id":"rtbassoc-013db1270194b31bd","route_table_id":"rtb-005bb1bfbfabac6ff","subnet_id":"subnet-0e2930fee401cb71d","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_internet_gateway.main","aws_route_table.public","aws_subnet.public","aws_vpc.main"]}]},{"mode":"managed","type":"aws_security_group","name":"ec2","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:eu-west-1:343218224348:security-group/sg-0f9dbc30a30c809d8","description":"Security group for EC2 instance","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0f9dbc30a30c809d8","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":5173,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":5173},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080}],"name":"wealthtrack-ec2-sg","name_prefix":"","owner_id":"343218224348","revoke_rules_on_delete":false,"tags":{"Name":"wealthtrack-ec2-sg"},"tags_all":{"Name":"wealthtrack-ec2-sg"},"timeouts":null,"vpc_id":"vpc-0d6fbdafbaeefae9a"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["aws_vpc.main"]}]},{"mode":"managed","type":"aws_security_group","name":"rds","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:eu-west-1:343218224348:security-group/sg-08a15faa46352e96a","description":"Security group for RDS instance","egress":[],"id":"sg-08a15faa46352e96a","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow access from my IP","from_port":5432,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":5432},{"cidr_blocks":[],"description":null,"from_port":5432,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0f9dbc30a30c809d8"],"self":false,"to_port":5432}],"name":"wealthtrack-rds-sg","name_prefix":"","owner_id":"343218224348","revoke_rules_on_delete":false,"tags":{"Name":"wealthtrack-rds-sg"},"tags_all":{"Name":"wealthtrack-rds-sg"},"timeouts":null,"vpc_id":"vpc-0d6fbdafbaeefae9a"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["aws_security_group.ec2","aws_vpc.main"]}]},{"mode":"managed","type":"aws_subnet","name":"private","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:eu-west-1:343218224348:subnet/subnet-0f5f6effdeb763a55","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1a","availability_zone_id":"euw1-az3","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0f5f6effdeb763a55","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"343218224348","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"wealthtrack-private-subnet"},"tags_all":{"Name":"wealthtrack-private-subnet"},"timeouts":null,"vpc_id":"vpc-0d6fbdafbaeefae9a"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_vpc.main"]}]},{"mode":"managed","type":"aws_subnet","name":"public","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:eu-west-1:343218224348:subnet/subnet-0e2930fee401cb71d","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1b","availability_zone_id":"euw1-az1","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0e2930fee401cb71d","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"343218224348","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"wealthtrack-public-subnet"},"tags_all":{"Name":"wealthtrack-public-subnet"},"timeouts":null,"vpc_id":"vpc-0d6fbdafbaeefae9a"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_vpc.main"]}]},{"mode":"managed","type":"aws_vpc","name":"main","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:eu-west-1:343218224348:vpc/vpc-0d6fbdafbaeefae9a","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0bfafaee8fc3be851","default_route_table_id":"rtb-01361aa69b508deb5","default_security_group_id":"sg-068ce3b425c12da2c","dhcp_options_id":"dopt-0b519f05ff97af4ba","enable_dns_hostnames":false,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0d6fbdafbaeefae9a","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-01361aa69b508deb5","owner_id":"343218224348","tags":{"Name":"wealthtrack-vpc"},"tags_all":{"Name":"wealthtrack-vpc"}},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]}],"check_results":null}
